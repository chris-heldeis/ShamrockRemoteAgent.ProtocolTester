<UserControl x:Class="ShamrockRemoteAgent.ClientTester.Views.LoginRequestView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:ShamrockRemoteAgent.ClientTester.ViewModels">

    <UserControl.DataContext>
        <vm:LoginRequestViewModel/>
    </UserControl.DataContext>

    <!-- ========================= -->
    <!-- Dark ComboBox Styles      -->
    <!-- ========================= -->
    <UserControl.Resources>

        <Style x:Key="DarkComboBoxItemStyle" TargetType="ComboBoxItem">
            <Setter Property="Background" Value="#020617"/>
            <Setter Property="Foreground" Value="#E5E7EB"/>
            <Setter Property="Padding" Value="6"/>

            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#1E293B"/>
                </Trigger>

                <Trigger Property="IsSelected" Value="True">
                    <Setter Property="Background" Value="#2563EB"/>
                    <Setter Property="Foreground" Value="White"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="DarkComboBoxStyle" TargetType="ComboBox">
            <Setter Property="Foreground" Value="#E5E7EB"/>
            <Setter Property="Background" Value="#020617"/>
            <Setter Property="BorderBrush" Value="#334155"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="4"/>

            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ComboBox">
                        <Grid>
                            <Border Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="6">

                                <Grid>
                                    <ContentPresenter Margin="8,0,30,0"
                                                      VerticalAlignment="Center"
                                                      HorizontalAlignment="Left"
                                                      Content="{TemplateBinding SelectionBoxItem}"/>

                                    <ToggleButton HorizontalAlignment="Right"
                                                  Width="30"
                                                  Background="Transparent"
                                                  BorderThickness="0"
                                                  IsChecked="{Binding IsDropDownOpen, RelativeSource={RelativeSource TemplatedParent}}">

                                        <TextBlock Text="▼"
                                                   Foreground="#94A3B8"
                                                   HorizontalAlignment="Center"
                                                   VerticalAlignment="Center"/>
                                    </ToggleButton>
                                </Grid>
                            </Border>

                            <Popup IsOpen="{TemplateBinding IsDropDownOpen}"
                                   Placement="Bottom"
                                   AllowsTransparency="True"
                                   Focusable="False"
                                   PopupAnimation="Fade">

                                <Border Background="#020617"
                                        BorderBrush="#334155"
                                        BorderThickness="1"
                                        CornerRadius="6">

                                    <ScrollViewer>
                                        <ItemsPresenter/>
                                    </ScrollViewer>
                                </Border>
                            </Popup>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

    </UserControl.Resources>

    <ScrollViewer VerticalScrollBarVisibility="Auto">

        <Grid Margin="6">

            <!-- Card -->
            <Border Background="#020617"
                    CornerRadius="12"
                    Padding="24"
                    Width="1170"
                    HorizontalAlignment="Left"
                    BorderBrush="#1E293B"
                    BorderThickness="1">

                <Border.Effect>
                    <DropShadowEffect BlurRadius="20"
                                      ShadowDepth="2"
                                      Opacity="0.25"
                                      Color="Black"/>
                </Border.Effect>

                <StackPanel>

                    <!-- Header -->
                    <TextBlock Text="Login Request"
                               FontSize="22"
                               FontWeight="SemiBold"
                               Foreground="#E5E7EB"
                               Margin="0,0,0,4"/>

                    <TextBlock Text="Build and serialize login payload"
                               Foreground="#94A3B8"
                               Margin="0,0,0,24"/>

                    <!-- Customer ID -->
                    <StackPanel Margin="0,0,0,16">
                        <TextBlock Text="Customer ID"
                                   FontWeight="Medium"
                                   Foreground="#CBD5E1"
                                   Margin="0,0,0,6"/>
                        <TextBox Text="{Binding CustomerID}"
                                 MaxLength="32"
                                 Height="36"
                                 FontSize="16"
                                 Background="#020617"
                                 Foreground="#E5E7EB"
                                 BorderBrush="#334155"/>
                    </StackPanel>

                    <!-- Email -->
                    <StackPanel Margin="0,0,0,16">
                        <TextBlock Text="Email"
                                   FontWeight="Medium"
                                   Foreground="#CBD5E1"
                                   Margin="0,0,0,6"/>
                        <TextBox Text="{Binding Email}"
                                 MaxLength="256"
                                 Height="36"
                                 FontSize="16"
                                 Background="#020617"
                                 Foreground="#E5E7EB"
                                 BorderBrush="#334155"/>
                    </StackPanel>

                    <!-- Device ID -->
                    <StackPanel Margin="0,0,0,16">
                        <TextBlock Text="Device ID"
                                   FontWeight="Medium"
                                   Foreground="#CBD5E1"
                                   Margin="0,0,0,6"/>
                        <TextBox Text="{Binding DeviceID}"
                                 Height="36"
                                 FontSize="16"
                                 Background="#020617"
                                 Foreground="#E5E7EB"
                                 BorderBrush="#334155"/>
                    </StackPanel>

                    <!-- Protocol -->
                    <StackPanel Margin="0,0,0,16">
                        <TextBlock Text="Protocol"
                                   FontWeight="Medium"
                                   Foreground="#CBD5E1"
                                   Margin="0,0,0,6"/>
                        <ComboBox ItemsSource="{Binding ProtocolValues}"
                                  SelectedItem="{Binding Protocol}"
                                  Style="{StaticResource DarkComboBoxStyle}"
                                  ItemContainerStyle="{StaticResource DarkComboBoxItemStyle}"
                                  Height="36"
                                  FontSize="16"/>
                    </StackPanel>

                    <!-- Adapter -->
                    <StackPanel Margin="0,0,0,16">
                        <TextBlock Text="Adapter"
                                   FontWeight="Medium"
                                   Foreground="#CBD5E1"
                                   Margin="0,0,0,6"/>
                        <ComboBox ItemsSource="{Binding AdapterValues}"
                                  SelectedItem="{Binding Adapter}"
                                  Style="{StaticResource DarkComboBoxStyle}"
                                  ItemContainerStyle="{StaticResource DarkComboBoxItemStyle}"
                                  Height="36"
                                  FontSize="16"/>
                    </StackPanel>

                    <!-- Service Type -->
                    <StackPanel Margin="0,0,0,16">
                        <TextBlock Text="Service Type"
                                   FontWeight="Medium"
                                   Foreground="#CBD5E1"
                                   Margin="0,0,0,6"/>
                        <ComboBox ItemsSource="{Binding ServiceTypeValues}"
                                  x:Name="serviceTypeSelect"
                                  SelectedItem="{Binding ServiceType}"
                                  Style="{StaticResource DarkComboBoxStyle}"
                                  ItemContainerStyle="{StaticResource DarkComboBoxItemStyle}"
                                  Height="36"
                                  FontSize="16" 
                                  SelectionChanged="ComboBox_SelectionChanged"/>
                    </StackPanel>

                    <!-- Other Service -->
                    <StackPanel Margin="0,0,0,24">
                        <TextBlock Text="Other Service (if applicable)"
                                   FontWeight="Medium"
                                   Foreground="#CBD5E1"
                                   Margin="0,0,0,6"/>
                        <TextBox Text="{Binding OtherService}"
                                 x:Name="OtherServiceText"
                                 MaxLength="256"
                                 Height="36"
                                 FontSize="16"
                                 IsEnabled="False"
                                 Background="#020617"
                                 Foreground="#E5E7EB"
                                 BorderBrush="#334155"/>
                    </StackPanel>

                    <!-- Action -->
                    <Button Content="Login"
                            Width="160"
                            Height="40"
                            FontWeight="SemiBold"
                            HorizontalAlignment="Center"
                            Background="#3B82F6"
                            Foreground="White"
                            BorderThickness="0"
                            Cursor="Hand"
                            Click="OnBuildClicked">

                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border Background="{TemplateBinding Background}"
                                        CornerRadius="10">
                                    <ContentPresenter HorizontalAlignment="Center"
                                                      VerticalAlignment="Center"/>
                                </Border>

                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#2563EB"/>
                                    </Trigger>
                                    <Trigger Property="IsPressed" Value="True">
                                        <Setter Property="Background" Value="#1D4ED8"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                </StackPanel>
            </Border>
        </Grid>
    </ScrollViewer>
</UserControl>
